!function(){var t,e={2634:function(){},5754:function(t,e,i){"use strict";var n=i(7989);var s="switchTo";const a=750,r=1334;var o;!function(t){t.CARD="Card",t.FIRE="Fire",t.WORD="Word"}(o||(o={}));const c={alpha:{start:.62,end:0},scale:{start:2,end:.3,minimumScaleMultiplier:1},color:{start:"#fff191",end:"#ff622c"},speed:{start:186,end:50,minimumSpeedMultiplier:1},acceleration:{x:0,y:0},maxSpeed:0,startRotation:{min:-80,max:-100},noRotation:!1,rotationSpeed:{min:-10,max:20},lifetime:{min:.1,max:1.7},blendMode:"normal",frequency:.02,emitterLifetime:-1,maxParticles:10,pos:{x:0,y:0},addAtBack:!1,spawnType:"circle",spawnCircle:{x:0,y:0,r:2}},d=[r/3,667,889.3333333333334];class h extends n.mcf{constructor(){super(),this.style=new n.xJt({fontFamily:"Arial",fontSize:42,fontWeight:"bold",fill:["#FFFFFF","#00BBBB"],stroke:"#0b2247",strokeThickness:9,lineJoin:"round"}),this.makeButton("Cards Demo",o.CARD,d[0]),this.makeButton("Words Reel",o.WORD,d[1]),this.makeButton("Fire Effect",o.FIRE,d[2])}start(){}makeButton(t,e,i){const a=new n.EYj(t,this.style);a.anchor.set(.5,.5),a.x=375,a.y=i;const r=new n.A1g;r.alpha=.8,r.beginFill(4374517),r.drawRect(130,i-50,490,100),r.interactive=!0,r.on("pointerup",()=>this.emit(s,e)),this.addChild(r),this.addChild(a)}}class l extends n.mcf{constructor(){super(),this.cards=[],this.totalCards=144,this.cardTextureFront=n.gPd.from("cardfront"),this.cardTextureBack=n.gPd.from("cardback"),this.cardFrontTint="FFFFFF",this.cardBackTint="770077",this.sortableChildren=!0}start(t){this.app=t,this.makeCards()}makeCards(){if(null!==this.app)for(let t=0;t<this.totalCards;t+=1)this.cards.push(this.makeSingleCard(t))}makeSingleCard(t){const e=this.app,i=n.kxk.from(this.cardTextureFront),s=175-t/8,a=250+t,r=60;i.anchor.set(.5),i.x=s,i.y=a;let o=0;const c=r+r*(this.totalCards-t),d=n=>{o+=n;const h=o-c,l=200-t/8;if(h>120)e.ticker.remove(d),i.zIndex=-t,i.scale.x=1,i.x=s+2*l,i.y=a+400;else if(h>0){const t=o-c;i.x=s+l*t/r,i.y=a+200*t/r,i.tint=o>c+r?this.cardBackTint:this.cardFrontTint,i.texture=o>c+r?this.cardTextureBack:this.cardTextureFront,i.scale.x=Math.abs(Math.cos(t/40))}};return e.ticker.add(d),this.addChild(i),i}}var u=function(t,e,i,n){return new(i||(i=Promise))(function(s,a){function r(t){try{c(n.next(t))}catch(t){a(t)}}function o(t){try{c(n.throw(t))}catch(t){a(t)}}function c(t){var e;t.done?s(t.value):(e=t.value,e instanceof i?e:new i(function(t){t(e)})).then(r,o)}c((n=n.apply(t,e||[])).next())})};class f extends n.mcf{constructor(){super(...arguments),this.endpoint="https://private-624120-softgamesassignment.apiary-mock.com/v2/magicwords",this.ready=!1,this.parsedAvatarData={},this.parsedEmojiData={},this.dialogData=[],this.dialogIndex=0,this.fontSize=42,this.style=new n.xJt({fontSize:this.fontSize,fontFamily:"Arial",fontWeight:"bold",fill:["#ffffff","#dddddd"],stroke:"#0b2247",strokeThickness:9,lineJoin:"round",wordWrap:!0,wordWrapWidth:650}),this.avatar=new n.kxk,this.textName=new n.EYj("",this.style),this.textContainer=new n.mcf,this.instructions=new n.EYj("Click to Advance Text",Object.assign(Object.assign({},this.style),{fontSize:20}))}start(){window.onpointerdown=()=>this.clickOnScreen(),this.addChild(this.avatar),this.makeText(),this.run()}makeText(){this.textName.x=100,this.textName.y=r/3,this.textContainer.x=100,this.textContainer.y=544.6666666666667,this.addChild(this.textName),this.addChild(this.textContainer)}fetchTextData(){return u(this,void 0,void 0,function*(){return yield fetch(this.endpoint).then(t=>{if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);return this.ready=!0,t.json()})})}run(){return u(this,void 0,void 0,function*(){const t=yield this.fetchTextData();this.parseAvatars(t.avatars),this.parseEmojies(t.emojies),this.dialogData=t.dialogue,this.addChild(this.instructions),this.instructions.x=250,this.instructions.y=1134,this.clickOnScreen()})}parseAvatars(t){t.forEach(t=>this.parsedAvatarData[t.name]={image:n.gPd.from(t.url),position:t.position})}parseEmojies(t){t.forEach(t=>this.parsedEmojiData[t.name]=t.url)}updateAvatar(t,e){const i=this.parsedAvatarData[t];if(void 0===i)return void(this.avatar.visible=!1);this.avatar.visible=!0,this.avatar.texture=i.image;const n=375+("left"===e?200:-200);this.avatar.anchor.set(.5),this.avatar.x=n,this.avatar.y=250,this.avatar.scale={x:2,y:2}}updateText(t,e){this.textName.text=t,this.textContainer.removeChildren();let i=0,s=0;const a=e.split(/(\s+)/g).filter(Boolean);for(const t of a){let e,a=0;const r=t.slice(1,-1);if(/^\{(\w+)\}$/.test(t)){if(this.parsedEmojiData[r]){const t=n.kxk.from(this.parsedEmojiData[r]);t.anchor.x=0,t.anchor.y=-.25,t.width=+this.style.fontSize,t.height=+this.style.fontSize,e=t,a=t.width}}else{const i=new n.EYj(t,this.style);e=i,a=i.width}i+a>600&&(i=0,s+=60),e&&(e.x=i,e.y=s,this.textContainer.addChild(e)),i+=a}}clickOnScreen(){var t;if(!1===this.ready)return;const e=this.dialogData[this.dialogIndex],i=e.name,n=e.text,s=null===(t=this.parsedAvatarData[i])||void 0===t?void 0:t.position;this.updateAvatar(i,s),this.updateText(i,n),this.dialogIndex=(this.dialogIndex+1)%this.dialogData.length}}var p=i(7672);class m extends n.mcf{start(){const t=new p.vl(this,(0,p.DZ)(c,["particle"]));t.updateOwnerPos(window.innerWidth/2-40,window.innerHeight/2+100);let e=Date.now();const i=function(){requestAnimationFrame(i);const n=Date.now();t.update(.001*(n-e)),e=n};t.emit=!0,i(),window.onpointerdown=e=>{const i=new n.bRX(e.x,e.y),{x:s,y:a}=this.toLocal(i);t.updateOwnerPos(s,a)}}}class v{constructor(t){this.scenes={},this.app=t,this.currentScene=this.addNewScene("MainMenu",h),this.currentScene.visible=!0,this.currentScene.on(s,t=>this.switchToScene(t)),this.addNewScene("Card",l),this.addNewScene("Word",f),this.addNewScene("Fire",m),this.makeCounter()}getScene(t){return this.scenes[t]}addNewScene(t,e){if(void 0===this.getScene(t)){const i=new e(this.app);return this.scenes[t]=i,this.app.stage.addChild(i),i.visible=!1,i}return!1}switchToScene(t){if(void 0===this.getScene(t))throw new Error(`Scene not found at key: ${t}`);this.currentScene.visible=!1;const e=this.scenes[t];return e.visible=!0,this.currentScene=e,this.currentScene.start(this.app),!0}makeCounter(){const t=new n.xJt({fontSize:20,fontFamily:"Arial",fill:["#ffffff"]}),e=new n.EYj("FPS: ..",new n.xJt(t));e.anchor.set(0,0),e.x=10,e.y=10,this.app.stage.addChild(e);let i=0;const{ticker:s}=this.app;s.add(t=>{if(i+=t,i>60){i=0;const t=Math.round(n.RvI.shared.FPS);e.text=`FPS: ${t}`}}),this.app.stage.addChild(e)}}var x=function(t,e,i,n){return new(i||(i=Promise))(function(s,a){function r(t){try{c(n.next(t))}catch(t){a(t)}}function o(t){try{c(n.throw(t))}catch(t){a(t)}}function c(t){var e;t.done?s(t.value):(e=t.value,e instanceof i?e:new i(function(t){t(e)})).then(r,o)}c((n=n.apply(t,e||[])).next())})};const w=new n.lgM({width:a,height:r});window.onload=()=>x(void 0,void 0,void 0,function*(){yield function(){return x(this,void 0,void 0,function*(){yield n.sP.init({manifest:{bundles:[{name:"game-assets",assets:[{name:"cardfront",srcs:"./assets/cardfront.png"},{name:"cardback",srcs:"./assets/cardback.png"},{name:"particle",srcs:"./assets/particle.png"}]}]}}),yield n.sP.loadBundle("game-assets")})}(),document.body.appendChild(w.view),function(){const t=()=>{const{innerHeight:t}=window,e=a*(t/r);w.renderer.resize(e,t),w.stage.scale.x=e/a,w.stage.scale.y=t/r};t(),window.addEventListener("resize",t)}(),new v(w)})}},i={};function n(t){var s=i[t];if(void 0!==s)return s.exports;var a=i[t]={id:t,loaded:!1,exports:{}};return e[t].call(a.exports,a,a.exports,n),a.loaded=!0,a.exports}n.m=e,t=[],n.O=function(e,i,s,a){if(!i){var r=1/0;for(h=0;h<t.length;h++){i=t[h][0],s=t[h][1],a=t[h][2];for(var o=!0,c=0;c<i.length;c++)(!1&a||r>=a)&&Object.keys(n.O).every(function(t){return n.O[t](i[c])})?i.splice(c--,1):(o=!1,a<r&&(r=a));if(o){t.splice(h--,1);var d=s();void 0!==d&&(e=d)}}return e}a=a||0;for(var h=t.length;h>0&&t[h-1][2]>a;h--)t[h]=t[h-1];t[h]=[i,s,a]},n.d=function(t,e){for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t},function(){var t={792:0};n.O.j=function(e){return 0===t[e]};var e=function(e,i){var s,a,r=i[0],o=i[1],c=i[2],d=0;if(r.some(function(e){return 0!==t[e]})){for(s in o)n.o(o,s)&&(n.m[s]=o[s]);if(c)var h=c(n)}for(e&&e(i);d<r.length;d++)a=r[d],n.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return n.O(h)},i=self.webpackChunkpixi_typescript_boilerplate=self.webpackChunkpixi_typescript_boilerplate||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))}();var s=n.O(void 0,[958],function(){return n(5754)});s=n.O(s)}();